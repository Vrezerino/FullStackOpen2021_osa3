{"version":3,"sources":["components/Person.js","services/personService.js","components/PeopleList.js","components/FilterForm.js","components/NewPersonForm.js","components/Message.js","App.js","index.js"],"names":["Person","id","name","number","deletePerson","alt","onClick","src","url","exportedObject","getAll","axios","get","then","response","data","createPerson","person","post","delete","updateNumber","put","PeopleList","people","filterResults","setPeople","setMessage","window","confirm","personService","r","filter","p","find","catch","e","request","setTimeout","length","map","FilterForm","setFilterResults","onChange","event","value","target","trim","toLowerCase","includes","NewPersonForm","newName","newNumber","setNewName","setNewNumber","personObject","onSubmit","preventDefault","exists","i","concat","width","type","Message","message","className","App","useState","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6b17f9d.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ id, name, number, deletePerson }) => {\r\n  return(\r\n    <div key={id}><b>{name}</b>, tel: {number} <img alt=\"delete person\" onClick={() => deletePerson(id)} src=\"/x.png\"/></div>\r\n  )\r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\n\r\nconst url = '/api/persons'\r\n\r\nconst getAll = () => axios.get(url).then(response => response.data)\r\nconst createPerson = person => axios.post(url, person).then(response => response.data)\r\nconst deletePerson = (id) => axios.delete(url + '/' + id).then(response => response.data)\r\nconst updateNumber = (id, person) => axios.put(url + '/' + id, person).then(response => response.data)\r\nconst exportedObject = {getAll, createPerson, deletePerson, updateNumber}\r\n\r\nexport default exportedObject","import React from 'react'\r\nimport Person from './Person'\r\nimport personService from '../services/personService'\r\n\r\nconst PeopleList = ({ people, filterResults, setPeople, setMessage }) => {\r\n  const deletePerson = (id) => {\r\n    if (window.confirm('Are you sure you want to delete this entry?')) {\r\n      personService.deletePerson(id)\r\n      .then(r => {\r\n        setPeople(people.filter(p => p.id !== id))\r\n        })\r\n      .then(r => {\r\n        setMessage(`Removed ${people.find(p => p.id === id).name}!`)\r\n      })\r\n      .catch(e => {\r\n        if (e.response) {\r\n          setMessage(`Couldn't find ${people.find(p => p.id === id).name}!`)\r\n        } else if (e.request) {\r\n          setMessage(`Server didn't respond!`)\r\n        } else {\r\n          setMessage(`Unknown error.`)\r\n        }\r\n      })\r\n      setTimeout(() => {\r\n      setMessage(null)\r\n      }, 4000)\r\n    } else {\r\n      return\r\n    }\r\n  }\r\n\r\n  if (people.length === 0 ) {\r\n    return (\r\n      <div>No entries in the phonebook.</div>\r\n    )\r\n  }\r\n\r\n  if (filterResults.length === 0) {\r\n    return (\r\n      <div>\r\n        {people.map(p => <Person key={p.id} id={p.id} name={p.name} number={p.number} deletePerson={deletePerson}/>)} \r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {filterResults.map(p => <Person key={p.id} id={p.id} name={p.name} number={p.number} deletePerson={deletePerson}/>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PeopleList","import React from 'react'\r\n\r\nconst FilterForm = ({ people, setFilterResults }) => {\r\n  const filterPeople = (event) => {\r\n    const value = event.target.value.trim()\r\n    if (value.length > 0) {\r\n      setFilterResults(\r\n        people.filter((person) =>\r\n          person.name.toLowerCase().includes(value.toLowerCase()),\r\n        ),\r\n      );\r\n    } else {\r\n      setFilterResults([...people]);\r\n    }\r\n  }\r\n  return (\r\n    <input onChange={filterPeople} />\r\n  )\r\n}\r\n\r\nexport default FilterForm","import React from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst NewPersonForm = ({ people, newName, newNumber, setNewName, setNewNumber, setPeople, setMessage }) => {\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    /*if (newName.length === 0 || newNumber.length === 0) {\r\n      alert(\"A field can not be empty!\")\r\n      return\r\n    }*/\r\n\r\n    if (newName.length !== 0 || newNumber.length !== 0) {\r\n      let exists = false\r\n      for (let i = 0; i < people.length; i++) {\r\n        if (people[i].name.toLowerCase() === (newName.toLowerCase()) && people[i].number !== newNumber) {\r\n          if (window.confirm(`${newName} is already in the phonebook, replace the old number with a new one?`)) {\r\n            personService\r\n              .updateNumber(people[i].id, { ...people[i], number: newNumber })\r\n              .then(r => setPeople(people.map(person => person.id === r.id ? r : person)))\r\n              .then(r => {\r\n                setMessage(`Updated ${newName}'s phone number!`)\r\n              })\r\n              .catch(e => {\r\n                if (e.response) {\r\n                  setMessage(e.response.data)\r\n                } else if (e.request) {\r\n                  setMessage(`Server didn't respond!`)\r\n                } else {\r\n                  setMessage(`Unknown error.`)\r\n                }\r\n              })\r\n              setTimeout(() => {\r\n                setMessage(null)\r\n                }, 4000)\r\n            exists = true\r\n            break\r\n          } else {\r\n            return\r\n          }\r\n        } else if (people[i].name.toLowerCase() === (newName.toLowerCase()) && people[i].number === newNumber) {\r\n            setMessage(`${newName} already has this phone number!`)\r\n            setTimeout(() => {\r\n            setMessage(null)\r\n          }, 4000)\r\n          exists = true\r\n        }\r\n      }\r\n\r\n      if (!exists) {\r\n        personService\r\n          .createPerson(personObject)\r\n          .then(response => {\r\n            setPeople(people.concat(response))\r\n            setMessage(`Added ${newName}!`)\r\n          })\r\n          .catch(e => {\r\n            if (e.response) {\r\n              setMessage(e.response.data)\r\n            } else if (e.request) {\r\n              setMessage(`Server didn't respond!`)\r\n            } else {\r\n              setMessage(`Unknown error.`)\r\n            }\r\n          })\r\n          setTimeout(() => {\r\n          setMessage(null)\r\n        }, 4000)\r\n      }\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n  }\r\n\r\n  const personObject = {\r\n    name: newName,\r\n    number: newNumber,\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={addPerson}>\r\n        <table width=\"200\">\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                Name: <input value={newName} onChange={handleNameChange} />\r\n              </td>\r\n              <td>\r\n                Phone number: <input type=\"tel\" value={newNumber} onChange={handleNumberChange} />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div>\r\n          <button type=\"submit\">Add to phonebook!</button>\r\n\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NewPersonForm","import './Message.css'\r\n\r\nconst Message = ({ message }) => {\r\n  if (message !== null && message.length !== 0) {\r\n    if (message.includes('Added') || message.includes('Updated') || message.includes('Removed')) {\r\n      return <div className=\"green\">{message}</div> \r\n    } else {\r\n      return <div className=\"red\">{message}</div>\r\n    }\r\n  } else {\r\n    return <div></div>\r\n  }\r\n} \r\n\r\nexport default Message","import React, { useState, useEffect } from 'react'\nimport PeopleList from './components/PeopleList'\nimport FilterForm from './components/FilterForm'\nimport NewPersonForm from './components/NewPersonForm'\nimport Message from './components/Message'\nimport personService from './services/personService'\nimport './App.css'\n\nconst App = () => {\n  const [people, setPeople] = useState([])\n\n  useEffect(() => {\n    personService.getAll()\n    .then(response => {\n      setPeople(response)\n    })\n  }, [])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [message, setMessage] = useState('')\n  const [filterResults, setFilterResults] = useState([])\n\n  return (\n    <center>\n      <div>\n        <h1>Phonebook <img alt=\"telephone icon\" src=\"phone.png\"/></h1>\n        <h4>Search entries</h4>\n        <FilterForm people={people} setNewName={setNewName} setNewNumber={setNewNumber} setPeople={setPeople} setFilterResults={setFilterResults}/>\n\n        <h4>Add a new entry</h4>\n        <NewPersonForm people={people} setPeople={setPeople} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber}  message={message} setMessage={setMessage}/>\n\n        <h2>Numbers</h2>\n        <PeopleList people={people} setPeople={setPeople} filterResults={filterResults} setMessage={setMessage}/>\n        <Message message={message}/>\n      </div>\n    </center>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}